syntax="proto3";

message Point {
  int32 x = 1;
  int32 y = 2;
}

message Snake {
  string color = 1;
  string direction = 2;
  repeated Point body = 3;
}

message JoinRequest {}

message MoveRequest {
  string color = 1;
  string direction = 2;
}

message GetRequest {}
message FoodRequest {}

service SnakeService {
  rpc addSnake (JoinRequest) returns (Snake) {}
  rpc moveSnake (MoveRequest) returns (Snake) {}
  rpc getSnakes (GetRequest) returns (stream Snake){}
  rpc getFood (FoodRequest) returns (Point) {}
}